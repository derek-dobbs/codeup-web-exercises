<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors Game</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <style>
            h1 {
                /*color: red;*/
                text-align: center;
                padding-top: .5em;
            }

            .box {
                width: 275px;
                height: 275px;
                border: 1px solid black;
                background-color: lightgray;
                margin: 1em;
            }

            #match-container {
                margin-top: 2em;
                /*border: 1px solid yellowgreen;*/
            }

            #vs {
                margin-top: 6em;
            }

            p {
                text-align: center;
                font-size: 2em;
            }

            #player-box {
                /*background-color: blue;*/
                /*background-image: none;*/
                border: 3px solid blue;
            }

            #opponent-box {
                /*background-color: red;*/
                /*background-image: none;*/
                border: 3px solid red;
            }

            #bigdiv {
                /*background-color: hotpink;*/
                /*margin: auto;*/
            }

            #tally-box {
                border: 1px solid black;
                margin: auto;
                padding-top: 1em;
                background-color: lightgray;
            }

            li {
                /*list-style: none;*/
            }

            #result-message-container {
                /*padding-top: .10em;*/
                /*border: 1px solid blue;*/
                margin: auto;
            }

            #make-a-selection {
                border: 1px solid black;
                margin: auto;
                padding: 1em;
            }

            #play-again-button {
                border: 1px solid black;
                margin: auto;
                margin-bottom: 1em;
                background-color: green;
                color: white;
                padding: .10em;
            }

            td {
                text-align: center;
                vertical-align: middle;

            }

            th {
                text-align: center;
                vertical-align: middle;
                width: 25%;
            }

            tr {

            }

            .selection-image {
                /*border: 5px solid white;*/
                height: 150px;
                width: 150px;
                background-color: lightblue;
                margin: 1em;
            }

            .choice-button {
                /*background-color: hotpink;*/
                /*padding: 0;*/
                /*margin: auto;*/
                margin-top: .10em;
            }

            #rock-selection-image {
                background-image: url("img/small-rock-image.png");
            }

            #paper-selection-image {
                background-image: url("img/small-paper-image.png");
            }

            #scissors-selection-image {
                background-image: url("img/small-scissors-image.png");
            }

            #round-number, #player-box-container>p, #player-box, #opponent-box-container>p {
                /*display: none;*/
            }

            #hide-me {
                /*display: none;*/
            }
        </style>
    </head>
    <body>
        <div id="bigdiv" class="d-flex flex-column justify-content-center">
            <div class="jumbotron jumbotron-fluid">
                <div>
                    <h1 class="display-4">Rock Paper Scissors Game</h1>
                </div>
            </div>

            <div id="hide-me-on-selection">
                <div id="make-a-selection" class="d-flex flex-column">
                    <p>Make a Selection to Start Game:</p>
                    <div class="d-flex flex-row justify-content-around">
                        <div class="d-flex flex-column justify-content-center align-items-center">
                            <div id="rock-selection-image" class="selection-image"></div>
                            <button id="rock-button" type="button" class="choice-button btn btn-light" value="rock">Rock</button>
                        </div>

                        <div class="d-flex flex-column justify-content-center align-items-center">
                            <div id="paper-selection-image" class="selection-image"></div>
                            <button id="paper-button" type="button" class="choice-button btn btn-light" value="paper">Paper</button>
                        </div>

                        <div class="d-flex flex-column justify-content-center align-items-center">
                            <div id="scissors-selection-image" class="selection-image"></div>
                            <button id="scissors-button" type="button" class="choice-button btn btn-light" value="scissors">Scissors</button>
                        </div>
                    </div>
                </div><!--end id="make-a-selection"-->
            </div><!--End id="hide-me-on-selection"-->



        <div id="hide-me"> <!--            new div start-->

            <div id="round-number-container">
                <p id="round-number"></p>
            </div>

            <div id="match-container" class="d-flex flex-row justify-content-center">

                <div id="player-box-container" class="d-flex flex-column justify-content-center">
                    <p>Player</p>

                    <div id="player-box" class="box d-flex flex-column align-items-center justify-content-center">

                    </div>
                </div>

                <p id="vs">VS</p>

                <div id="opponent-box-container" class="d-flex flex-column justify-content-center">
                    <p>Computer</p>

                    <div id="opponent-box" class="box d-flex flex-column align-items-center justify-content-center">

                        <!--                    <p id="opponent-choice"></p>-->
                    </div>
                </div>



            </div> <!--End match-container-->

            <div id="result-message-container">
                <p id="result-message"></p>
            </div>

            <div class="d-flex flex-row justify-content-center">
                <p>
                    <button id="play-again-button" type="button" class="btn btn-light" value="play-again">Play Again</button>
                </p>

            </div>

            <div id="tally-box" class="d-flex flex-column align-items-center">
                <p>Match History</p>
                <p id="history-message"></p>
                <br>
            </div>
            <button id="reset-history" type="button" class="btn btn-light" value="reset">Reset</button>

        </div> <!--end id="hide-me"-->




        </div> <!--End bigdiv-->

        <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

        <script>
            let userChoice = '';
            function randomNumber(min, max) {
                min = Math.ceil(min);
                max = Math.floor(max);
                return Math.floor(Math.random() * (max - min + 1) + min); //The maximum is inclusive and the minimum is inclusive
            }

            let opponentArray = ['rock', 'paper', 'scissors'];
            let opponentChoice = '';
            let message = '';
            let count = 1;
            let winAudio = new Audio('audio/success-bell.wav');
            let loseAudio = new Audio('audio/incorrect-2.wav');
            let tieAudio = new Audio('audio/incorrect.wav');

            $(document).ready(function() {
                $('#hide-me').css('display', 'none');


                $('.choice-button').click(function () {

                $('#hide-me').css('display', 'block');
                $('#hide-me-on-selection').css('display', 'none');


                    userChoice = this.value;
                    // console.log(userChoice);
                    $('#player-choice').html(userChoice);

                    opponentChoice = opponentArray[randomNumber(0, (opponentArray.length - 1))];
                    $('#opponent-choice').html(opponentChoice);

                    $('#round-number').html("Round " + count);

                    if(userChoice === 'rock') {
                        $('#player-box').css('background-image', 'url(img/rock-image.png)');
                    }

                    if(userChoice === 'paper') {
                        $('#player-box').css('background-image', 'url(img/paper-image.png)');
                    }

                    if(userChoice === 'scissors') {
                        $('#player-box').css('background-image', 'url(img/scissors-image.png)');
                    }

                    if(opponentChoice === 'rock') {
                        $('#opponent-box').css('background-image', 'url(img/rock-image.png)');
                    }

                    if(opponentChoice === 'paper') {
                        $('#opponent-box').css('background-image', 'url(img/paper-image.png)');
                    }

                    if(opponentChoice === 'scissors') {
                        $('#opponent-box').css('background-image', 'url(img/scissors-image.png)');
                    }

                    if(userChoice === 'rock' && opponentChoice === 'scissors') {
                        message = 'Player wins!';
                        winAudio.play();

                    }

                    if(userChoice === 'paper' && opponentChoice === 'rock') {
                        message = 'Player wins!';
                        winAudio.play();
                    }

                    if(userChoice === 'scissors' && opponentChoice === 'paper') {
                        message = 'Player wins!';
                        winAudio.play();
                    }

                    if(opponentChoice === 'rock' && userChoice === 'scissors') {
                        message = 'Computer wins.';
                        loseAudio.play();
                    }

                    if(opponentChoice === 'paper' && userChoice === 'rock') {
                        message = 'Computer wins.';
                        loseAudio.play();
                    }

                    if(opponentChoice === 'scissors' && userChoice === 'paper') {
                        message = 'Computer wins.';
                        loseAudio.play();
                    }

                    if(userChoice === opponentChoice){
                        message = 'It is a tie!';
                        tieAudio.play();
                    }



                    $('#result-message').html(message);

                    // $("#tally-box").append(message + "<br />");
                    $('#history-message').append('Round '+ count + ':     ' + message + "<br />");
                    // $('#')

                    count += 1;

                }); //end $('choice-button').click()

                $('#play-again-button').click(function () {
                    userChoice = '';
                    opponentChoice = '';
                    $('#player-choice').empty();
                    $('#opponent-choice').empty();
                    $('#result-message').empty();
                    $('#round-number').empty();
                    $('#player-box').css('background-image', 'none');
                    $('#opponent-box').css('background-image', 'none');
                    $('#show-me').css('display', 'block');
                    $('#hide-me-on-selection').css('display', 'block');
                    $('#hide-me').css('display', 'none');

                });

                $('#reset-history').click(function () {
                    $('#history-message').empty();
                    $('#player-choice').empty();
                    $('#opponent-choice').empty();
                    $('#result-message').empty();
                    $('#round-number').empty();
                    $('#player-box').css('background-image', 'none');
                    $('#opponent-box').css('background-image', 'none');
                    count = 1;

                    $('#player-box').css('background-image', 'none');
                    $('#opponent-box').css('background-image', 'none');
                    $('#show-me').css('display', 'block');
                    $('#hide-me-on-selection').css('display', 'block');
                    $('#hide-me').css('display', 'none');

                });

                // $("#btn2").click(function(){
                //     $("ol").append("<li>Appended item</li>");
                // });
            }); //end document ready
        </script>
    </body>
</html>